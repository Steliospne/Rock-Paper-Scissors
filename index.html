<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Mini Game</title>
    </head>
    <body>
        <script>
            game();

            function getComputerChoice() {
                let randomnchoice = Math.floor(getRandomArbitrary(0, 3));
                switch (randomnchoice) {
                    case 0:
                        return "rock";
                        break;
                    case 1:
                        return "paper";
                        break;
                    case 2:
                        return "scissor";
                        break;
                }
            }

            function getRandomArbitrary(min, max) {
                return Math.random() * (max - min) + min;
            }

            function playRound(playerSelection, computerSelection) {
                if (playerSelection == computerSelection) {
                    computerSelection = getComputerChoice();
                    playerSelection = prompt(
                        "Rock Paper or Scissor ?"
                    ).toLowerCase();
                }

                if (
                    playerSelection == "rock" &&
                    computerSelection == "scissor"
                ) {
                    console.log("You win!");
                    return 1;
                } else if (
                    playerSelection == "paper" &&
                    computerSelection == "rock"
                ) {
                    console.log("You win!");
                    return 1;
                } else if (
                    playerSelection == "scissor" &&
                    computerSelection == "paper"
                ) {
                    console.log("You win!");
                    return 1;
                } else {
                    console.log("You loose!");
                    return 0;
                }
            }

            function game() {
                let scoreCountPlayer = 0;
                let scoreCountComputer = 0;

                for (let roundCount = 1; roundCount <= 5; roundCount++) {
                    let computerSelection = getComputerChoice();
                    let playerSelection = prompt(
                        "Rock Paper or Scissor ?"
                    ).toLowerCase();

                    if (playRound(playerSelection, computerSelection) == true) {
                        scoreCountPlayer += 1;
                        console.log(
                            `Score: ${scoreCountPlayer}/${scoreCountComputer}`
                        );
                    } else {
                        scoreCountComputer += 1;
                        console.log(
                            `Score: ${scoreCountPlayer}/${scoreCountComputer}`
                        );
                    }
                    if (scoreCountPlayer == 3) {
                        console.log("Player Wins!");
                        break;
                    }
                    if (scoreCountComputer == 3) {
                        console.log("Computer Wins!");
                        break;
                    }
                }
            }
        </script>
    </body>
</html>
